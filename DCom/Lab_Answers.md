# Lab 1: Modulation/Demodulation - 题目复述与答案

## 第一部分: BPSK

### Task 1.1 [1分]
**题目复述**: 使用stem函数绘制接收到的二进制数据的前10个比特。

**答案**: 见生成的图表 `Task1_1_BPSK_First10.png`。图中显示了在SNR=0dB条件下接收到的前10个BPSK符号，可以观察到噪声对信号幅度的影响。

---

### Task 1.2 [1分]
**题目复述**: 写出错误比特数。当多次运行代码时，错误比特数是否保持不变？如果不是，为什么？

**答案**:
- 错误比特数约为700-900个（在10000个比特中）
- **不会保持不变**
- **原因**: 因为比特生成(`rand`)和噪声(`randn`)都是随机过程。每次运行时：
  1. 生成的信息比特序列不同
  2. 叠加的AWGN噪声样本不同
  - 因此错误比特的位置和数量会随机变化

---

### Task 1.3 [1分]
**题目复述**: 使用semilogy函数绘制BER随SNR变化的曲线（SNR = [0:2:10] dB），并添加坐标轴标签和标题。

**答案**: 见生成的图表 `Task1_3_BPSK_BER.png`。
- 横轴: SNR (dB)
- 纵轴: BER (对数刻度)
- 观察: BER随SNR增加而显著下降

---

### Task 1.4 [1分]
**题目复述**: 通过MATLAB帮助查找另一种BPSK调制和解调方法，使用内置函数编写代码。

**答案**: 使用MATLAB内置函数 `pskmod` 和 `pskdemod`:

```matlab
% BPSK调制
bpsk_mod_builtin = pskmod(double(bits), 2);

% BPSK解调
Demod_builtin = pskdemod(Rx_signal, 2);
```

其他可选函数: `comm.BPSKModulator` 和 `comm.BPSKDemodulator` (通信工具箱对象)

---

## 第二部分: QPSK

### Task 2.1 [1分]
**题目复述**: 绘制调制数据的星座图。

**答案**: 见生成的图表 `Task2_1_QPSK_Constellation.png`。
- 显示4个星座点，位于单位圆上
- 相位分别为 π/4, 3π/4, 5π/4, 7π/4
- 星座点均匀分布在复平面的四个象限

---

### Task 2.2 [1分 + 1分]
**题目复述**: 绘制SNR=0dB, 10dB, 20dB时的接收数据星座图，并解释观察到的差异及原因。

**答案**: 见生成的图表 `Task2_2_QPSK_SNR_Comparison.png`。

**观察到的差异**:
- SNR = 0 dB: 星座点高度分散，难以区分四个符号
- SNR = 10 dB: 星座点明显聚集，但仍有一定散布
- SNR = 20 dB: 星座点非常集中，接近理想位置

**原因**:
- SNR越高，噪声功率相对于信号功率越小
- 噪声引起的偏移减小，星座点更接近发送位置
- 这直接导致解调时判决错误概率降低

---

### Task 2.3 [1分]
**题目复述**: 使用semilogy函数绘制QPSK的BER vs SNR曲线，并添加坐标轴标签和标题。

**答案**: 见生成的图表 `Task2_3_QPSK_BER.png`。
- BER随SNR增加呈指数下降趋势
- 曲线特性与BPSK相似

---

### Task 2.4 [2分]
**题目复述**: 在同一图中比较BPSK和QPSK的BER vs SNR曲线。如果想降低错误率，选择哪种调制方式？选择的缺点是什么？

**答案**: 见生成的图表 `Task2_4_BER_Comparison.png`。

**调制方式选择**: **BPSK**

**选择BPSK的原因**:
- 在相同SNR下，BPSK通常具有更低的BER
- BPSK只需判决实部符号，抗噪声能力更强

**BPSK的缺点**:
1. **频谱效率低**: BPSK每符号仅传1比特，QPSK传2比特
2. **数据速率低**: 相同带宽下，BPSK的传输速率只有QPSK的一半
3. **带宽利用率差**: 需要更大带宽传输相同数据量

**总结**: 存在误码率与频谱效率之间的权衡。实际系统根据信道条件和应用需求选择合适的调制方式。

---

# Lab 2: Channel Equalization - 题目复述与答案

## Part B: 创建输出脉冲

**题目复述**: 绘制τ=0.2, 1, 10时的输出响应，并评论结果。

**答案**: 见图表 `Lab2_PartB_OutputPulse.png`

**观察与评论**:
- τ=0.2: 输出响应快速上升到峰值并快速下降，接近理想矩形脉冲，ISI最小
- τ=1: 中等响应速度，有明显的上升时间和拖尾，会产生一定ISI
- τ=10: 响应非常缓慢，几乎无法达到稳态，严重失真，ISI极其严重

**原因**: τ是信道的时间常数，τ越大，系统响应越慢，脉冲拖尾越长，符号间干扰越严重。

---

## Part C: 生成带ISI的接收信号

**题目复述**: 绘制眼图，计算不同τ下的误码数，并评论性能。

**答案**:

**τ=1时的结果**:
- 误码数约50-150个（取决于随机生成的比特）
- 眼图部分闭合

**τ=0.2时的结果**:
- 误码数约0-5个
- 眼图张开良好

**τ=10时的结果**:
- 误码数约400-500个
- 眼图几乎完全闭合

**性能评论**:
- τ越小，眼图张开度越大，误码率越低
- τ越大，ISI越严重，眼图闭合，误码率急剧上升
- 眼图的张开程度直接反映系统的抗噪声能力

**流程图关键步骤**:
1. 生成BPSK符号
2. 计算信道脉冲响应
3. 通过卷积产生ISI信号
4. 采样并与发送比特比较
5. 计算误码数

---

## Part D: 实现零迫均衡器

**题目复述**: 实现ZF均衡器并比较均衡前后的眼图和误码数。

**答案**: 见图表 `Lab2_PartD_EyeDiagram_Comparison.png`

**结果对比**:
- 无均衡器: 误码数约50-150个
- ZF均衡器: 误码数约0-10个

**性能改善**:
- 眼图从部分闭合变为完全张开
- 误码率显著下降
- 零迫均衡器有效消除了ISI

**流程图关键步骤**:
1. 定义均衡器长度Ne
2. 采样信道响应cT
3. 构建Toeplitz矩阵C
4. 求解w = C^(-1) * z
5. 生成均衡器脉冲响应hzf
6. 与接收信号卷积
7. 采样并计算误码

---

# Lab 3: Channel Coding - 题目复述与答案

## Exercise 1: (6,3)线性分组码

### 1a) [6分]
**题目复述**: 编码消息[1 1 1]和[1 0 1]

**答案**:
- [1 1 1] → [0 1 1 1 1 1]
- [1 0 1] → [1 0 1 1 0 1]

### 1b) [6分]
**题目复述**: 编码所有可能的消息并写出编码字

**答案**:

| MESSAGE | CODE VECTOR | Weight |
|---------|-------------|--------|
| 000 | 000000 | 0 |
| 001 | 011001 | 3 |
| 010 | 101010 | 3 |
| 011 | 110011 | 4 |
| 100 | 110100 | 3 |
| 101 | 101101 | 4 |
| 110 | 011110 | 4 |
| 111 | 000111 | 3 |

### 1c) [2分]
**答案**: 最小汉明距离 d_min = **3**

### 1d) [2分]
**答案**: 可检测错误数 = d_min - 1 = **2**

### 1e) [2分]
**答案**: 可纠正错误数 = floor((d_min-1)/2) = **1**

### 1f) [2分]
**答案**: 码率 = k/n = 3/6 = **0.5**

---

## Exercise 2: [30分]
**题目复述**: 使用给定的P矩阵编码8x8的字母'S'图像矩阵

**答案**:
- k = 8 (消息长度)
- n = 12 (码字长度)
- 每行8位被编码为12位
- 结果为8×12的编码矩阵

见图表 `Lab3_Ex2_EncodedImage.png`

---

## Exercise 3: [20+20+10分]

### 伴随式表
**题目复述**: 创建(8,4)码的伴随式表

**答案**: 单比特错误的伴随式表

| Error Position | Error Pattern | Syndrome |
|----------------|---------------|----------|
| 1 | 10000000 | 1000 |
| 2 | 01000000 | 0100 |
| 3 | 00100000 | 0010 |
| 4 | 00010000 | 0001 |
| 5 | 00001000 | 0111 |
| 6 | 00000100 | 1011 |
| 7 | 00000010 | 1101 |
| 8 | 00000001 | 1110 |

### 解码接收向量
**题目复述**: 解码z = [0 1 1 1 0 1 1 0]

**答案**:
- 计算伴随式: s = z·H^T = [1 0 1 1]
- 伴随式[1 0 1 1]对应H的第6列
- 错误位置: **第6位**
- 纠正后的向量: [0 1 1 1 0 0 1 0]
- 解码消息: [0 1 1 0]
